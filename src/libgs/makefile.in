prefix      = @prefix@
exec_prefix = @exec_prefix@
bindir      = @bindir@
srcdir      = @srcdir@
CPPFLAGS    = -I$(srcdir)/../../include
CFLAGS      = -std=gnu11 -Wall -O2
LDFLAGS     = -s -Wl,-rpath=\$$ORIGIN/../lib,--as-needed @LDFLAGS@
LDLIBS      = -lusb-1.0 @LIBS@
SRC         = $(srcdir)/src/lib/*.c $(srcdir)/src/exe/*.c $(srcdir)/../../include/vector/vector.c
PROGNAME    = gs
INSTALL     = @INSTALL@

.PHONY      : all install clean distclean

all         : $(PROGNAME)
install     :
	$(INSTALL) -p -D --target-directory=$(bindir) $(PROGNAME)
clean       :
	rm -f $(PROGNAME)
distclean   :
	rm -f makefile
$(PROGNAME) : $(SRC)
	$(CC) $(CPPFLAGS) $(CFLAGS) $(LDFLAGS) $^ $(LDLIBS) -o $@
